<!DOCTYPE html>
<html lang="">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Practice</title>

    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/media.css">

    <script defer src="/js/main.js"></script>
  </head>

  <body class="body">
    <header class="header">
      <div class="container-header">
        <div class="row-header">
          <picture class="header-logo">
            <source srcset="/img/logo-320.png" media="(max-width: 320px)">
            <source srcset="/img/logo.png" />
            <img src="/img/logo.png" alt="Logo">
          </picture>
          <form class="filter-form" action="/search" method="get">
            <input class="search-form" type="text" name="search"
              placeholder="Введите запрос">
          </form>
        </div>
      </div>
    </header>

    <main class="main">
      <section class="section">
        <div class="container">
          <h1 class="section-h1">Клиенты</h1>
          <table class="table">
            <thead class="table-head">
              <tr>
                <th onclick="sortById('id', this)" class="table-header-cell
                  table-header-cell--id">
                  ID
                  <img src="img/Arrow-up.svg" alt="Сортировка по возрастанию">
                </th>
                <th onclick="sortByName('name', this)"
                  class="table-header-cell">
                  Фамилия Имя Отчество
                  <img src="img/Arrow-up.svg" alt="Сортировка по возрастанию">
                  <span class="table_head-colored">А-Я</span>
                </th>
                <th onclick="sortByCreatedAt('createdAt', this)"
                  class="table-header-cell">
                  Дата и время создания
                  <img src="img/Arrow-up.svg" alt="Сортировка по возрастанию">
                </th>
                <th onclick="sortByUpdatedAt('updatedAt', this)"
                  class="table-header-cell">
                  Последние изменения
                  <img src="img/Arrow-up.svg" alt="Сортировка по возрастанию">
                </th>
                <th class="table-header-cell">Контакты</th>
                <th class="table-header-cell">Действия</th>
              </tr>
            </thead>
            <tbody id="tableBody">
              <tr>
                <td class="table-data-id">{{ user.id }}</td>
                <td class="table-data-name">{{ formateName(user.surname,
                  user.name, user.lastName) }}</td>
                <td class="table-data-created">{{ formateDate(user.createdAt) }}
                  <span class="td-time">{{
                    formateTime(user.createdAt) }}</span></td>
                <td class="table-data-updated">{{ formateDate(user.updatedAt) }}
                  <span class="td-time">{{
                    formateTime(user.updatedAt) }}</span></td>
                <td class="table-data-contacts">
                  <ContactsCell :contacts="user.contacts" />
                  </td>
                  <td>
                    <div class="table-data-buttons"> </div>
                  </td>
                </tr>
              </tbody>
            </table>

            <div class="preloader-indicator">
              <svg class="preloader__image" role="img"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path fill="currentColor" d="M304 48c0 26.51-21.49 48-48
                  48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48
                  368c-26.51
                  0-48 21.49-48 48s21.49 48 48 48 48-21.49
                  48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49
                  48 48 48 48-21.49 48-48-21.49-48-48-48zM96
                  256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48
                  48-21.49
                  48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48
                  48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c
                  -26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49
                  48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48
                  21.49-48
                  48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z">
                </path>
              </svg>
            </div>

            <div class="newclient">
              <button class="btn-addclient" id="btn_addClient"
                onclick="showModalClient('addClient')">
                <svg class="svg-add-person" width="23" height="16" viewBox="0 0
                  23 16" fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M14.5 8C16.71 8 18.5 6.21 18.5 4C18.5 1.79 16.71 0 14.5
                    0C12.29 0 10.5 1.79 10.5 4C10.5 6.21 12.29
                    8 14.5 8ZM5.5 6V3H3.5V6H0.5V8H3.5V11H5.5V8H8.5V6H5.5ZM14.5
                    10C11.83 10 6.5 11.34 6.5 14V16H22.5V14C22.5 11.34 17.17 10
                    14.5 10Z"
                    fill="#9873FF" />
                </svg>
                  Добавить клиента
                </button>
              </div>

              <div class="modal-window" id="modalWindow_newClient">
                <div class="modal-blackout"></div>
                <div class="modal">
                  <div ref="content" class="modal_content">
                    <div class="modal-header">
                      <h2 class="modal_content-title">Новый клиент</h2>
                      <button class="btn-cls"
                        onclick="hideModalClient('addClient')">
                        <svg width="17" height="17" viewBox="0 0 17 17"
                          fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M16.2332 1.73333L15.2665 0.766664L8.49985
                            7.53336L1.73318 0.766696L0.766515 1.73336L7.53318
                            8.50003L0.766542
                            15.2667L1.73321 16.2333L8.49985 9.46669L15.2665
                            16.2334L16.2332 15.2667L9.46651 8.50003L16.2332
                            1.73333Z" fill="#B0B0B0" />
                          </svg>
                        </button>
                      </div>

                      <form class="form-newclient">
                        <div class="form-group">
                          <input class="form-name" type="text" name="surname"
                            required>
                          <div class="placeholder">
                            Фамилия <span>*</span>
                          </div>
                        </div>
                        <div class="form-group">
                          <input class="form-name" type="text" name="name"
                            required>
                          <div class="placeholder">
                            Имя <span>*</span>
                          </div>
                        </div>
                        <div class="form-group">
                          <input class="form-name" type="text" name="lastname"
                            onkeyup="hideFakePlaceholder()">
                          <div class="placeholder show"
                            id="fakePlaceholderLastname">
                            Отчество <span></span>
                          </div>
                        </div>
                      </form>

                      <div class="contacts-space">
                        <span class="span-fill">
                          <ul class="list-reset contact-list"></ul>
                          <div class="addcontact-space">
                            <span class="contact-add">
                            </span>
                            <button class="btn-addcontact">
                              Добавить контакт
                            </button>
                          </div>
                        </span>
                      </div>
                      <div class="modal-footer">
                        <div class="footer-error hide"> </div>
                        <button href="#" class="btn-savecontact"> Сохранить
                        </button>
                        <button class="btn-delelecontact"
                          onclick="hideModalClient('addClient')"> Отмена
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="modal-window" id="modalWindow_editClient">
                  <div class="modal-blackout"></div>
                  <div class="modal">
                    <div ref="content" class="modal_content">
                      <div class="modal-header">
                        <h2 class="modal_content-title">
                          Изменить данные
                        </h2>
                        <button class="btn-cls"
                          onclick="hideModalClient('editClient')">
                          <svg width="17" height="17" viewBox="0 0 17 17"
                            fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                              d="M16.2332 1.73333L15.2665 0.766664L8.49985
                              7.53336L1.73318 0.766696L0.766515 1.73336L7.53318
                              8.50003L0.766542
                              15.2667L1.73321 16.2333L8.49985 9.46669L15.2665
                              16.2334L16.2332 15.2667L9.46651 8.50003L16.2332
                              1.73333Z" fill="#B0B0B0" />
                            </svg>
                          </button>
                        </div>

                        <form class="form-editclient">
                          <fieldset class="editclient-fieldset">
                            <legend class="form-client-legend">Фамилия <span>*</span></legend>
                            <div class="form-group">
                              <input class="form-name" type="text"
                                name="surname" required>
                            </div>
                          </fieldset>
                          <fieldset class="editclient-fieldset">
                            <legend class="form-client-legend">Имя <span>*</span></legend>
                            <div class="form-group">
                              <input class="form-name" type="text" name="name"
                                required>
                            </div>
                          </fieldset>
                          <fieldset class="editclient-fieldset">
                            <legend class="form-client-legend">Отчество</legend>
                            <div class="form-group">
                              <input class="form-name" type="text"
                                name="lastname">
                            </div>
                          </fieldset>
                        </form>
                        <div class="contacts-space">
                          <span class="span-fill">
                            <ul class="list-reset contact-list"></ul>
                            <div class="addcontact-space">
                              <span class="contact-add">
                              </span>
                              <button class="btn-addcontact">
                                Добавить контакт
                              </button>
                            </div>
                          </span>
                        </div>
                        <div class="modal-footer">
                          <div class="footer-error hide"> </div>
                          <button class="btn-savecontact"
                            onclick="validatEditForm()"> Сохранить </button>
                          <button class="btn-delelecontact"
                            onclick="showModalClient('deleteClient')"> Удалить
                            клиента </button>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="modal-window" id="modalWindow_deleteClient">
                    <div class="modal-blackout"></div>
                    <div class="modal">
                      <div ref="content" class="modal_content">
                        <div class="modal-header modal-header--delete">
                          <h2 class="modal_content-title">
                            Удалить клиента
                          </h2>
                          <button class="btn-cls"
                            onclick="hideModalClient('deleteClient')">
                            <svg width="17" height="17" viewBox="0 0 17 17"
                              fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M16.2332 1.73333L15.2665 0.766664L8.49985
                                7.53336L1.73318 0.766696L0.766515
                                1.73336L7.53318 8.50003L0.766542
                                15.2667L1.73321 16.2333L8.49985 9.46669L15.2665
                                16.2334L16.2332 15.2667L9.46651 8.50003L16.2332
                                1.73333Z" fill="#B0B0B0" />
                              </svg>
                            </button>
                          </div>
                          <div class="modal-content-delete">
                            <p>
                              Вы действительно хотите удалить данного клиента?
                            </p>
                          </div>
                          <div class="modal-footer">
                            <button class="btn-savecontact" id="deleteClientOK"
                              onclick="deleteClient()"> Удалить </button>
                            <button class="btn-delelecontact"
                              onclick="hideModalClient('deleteClient')"> Отмена
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </section>
              </main>
              <script src="js/inputmask.js"></script>
              <script
                src="https://unpkg.com/@popperjs/core@2.11.5/dist/umd/popper.min.js"></script>
              <script
                src="https://unpkg.com/tippy.js@6.3.7/dist/tippy-bundle.umd.min.js"></script>
              <script
                src="https://unpkg.com/just-validate@latest/dist/just-validate.production.min.js"></script>
            </body>
          </html>